operationId: getProduct
summary: |
  Returns Product details
tags:
  - Internal
consumes:
  - application/json
produces:
  - application/json
parameters:
  - name: id
    in: path
    description: ID of product  to fetch
    required: true
    type: integer
    format: int64
responses:
  "200":
    description: 200 response
    schema:
      $ref: "../../definitions.yml#/Product"
    examples:
      application/json: |
       $ref: "./response.yml"
x-amazon-apigateway-integration:
  type: aws
  credentials: "arn:aws:iam::{{ AWS_ACCOUNT_ID }}:role/${stageVariables.ExecutionRoleName}"
  httpMethod: POST
  uri: "arn:aws:apigateway:{{ AWS_REGION }}:dynamodb:action/GetItem"
  requestTemplates:
    $ref: "./request.yml"
  requestParameters:
    integration.request.header.Content-Type: "'application/json'"
  responses:
    default:
      statusCode: "200"
      responseTemplates:
        $ref: "./response.yml"
      400:
        responseTemplates:
          application/json: |
            $ref: "../definitions.yml#/Error"
      500:
        responseTemplates:
          application/x-amz-json-1.0: |
            $ref: "../definitions.yml#/Error"